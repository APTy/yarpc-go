version: '2'

services:
    crossdock:
        image: yarpc/crossdock:v2
        links:
            - yarpc-go
            - yarpc-node
            - yarpc-java
            - yarpc-python
        environment:
            - CROSSDOCK_CLIENTS=yarpc-go,yarpc-node,yarpc-java,yarpc-python
            - CROSSDOCK_AXIS_SERVER=yarpc-go,yarpc-node,yarpc-java,yarpc-python
            - CROSSDOCK_AXIS_BEHAVIOR=echo

    yarpc-go:
        build: .
        ports:
            - 8080
            - 8081

    yarpc-node:
        image: yarpc/yarpc-node:crossdock-v2
        ports:
            - 8080
            - 8081

    yarpc-java:
        image: yarpc/yarpc-java:crossdock-v2
        ports:
            - 8080
            - 8081

    yarpc-python:
        image: yarpc/yarpc-python:crossdock-v2
        ports:
            - 8080
            - 8081
